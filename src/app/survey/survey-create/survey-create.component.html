<div class="card">
    <div class="card-header">
        <h3>Creer un sondage :</h3>
    </div>
    <div class="card-body">
        <form [formGroup]="form">
            <div class="form-group">
                <label>Question :</label>
                <input type="text" class="form-control" placeholder="entrer une question" formControlName="question">
            </div>
            <div class="form-group">
                <label> Réponses possibles :</label>
                <div formArrayName="possibleAnswers" *ngFor="let item of form.get('possibleAnswers').controls; let i = index;">
                    <div [formGroupName]="i">
                        <input formControlName="answer" class="form-control" placeholder="Reponse">
                    </div>
                </div>
                <button class="btn btn-outline-secondary" (click)="addItem()">Ajouter une
                    réponse</button>
            </div>
            <br>
            <button type="submit" [disabled]="loading" class="btn btn-primary" (click)="onSubmit()">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Voter
            </button>
            <a routerLink="/survey/list" class="btn btn-link">Cancel</a>

        </form>


    </div>

</div>